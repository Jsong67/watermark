<!DOCTYPE html>  
<html>  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>ÂõæÁâáÊâπÈáèÂä†Ê∞¥Âç∞Â∑•ÂÖ∑„Äê+7AIÂÆûÈ™åÂÆ§„Äë</title>  
    <script src="https://cdn.tailwindcss.com"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&family=ZCOOL+KuaiLe&family=ZCOOL+QingKe+HuangYou&display=swap">  
    <style>  
        .canvas-wrapper {  
            position: relative;  
            margin-bottom: 1rem;  
        }  
        .drag-overlay {  
            position: absolute;  
            top: 0;  
            left: 0;  
            right: 0;  
            bottom: 40px;  
            cursor: move;  
        }  
        .button-container {  
            position: absolute;  
            bottom: 0;  
            left: 0;  
            right: 0;  
            height: 40px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            gap: 8px;  
            background: rgba(0,0,0,0.05);  
        }  
        .save-button {  
            padding: 4px 12px;  
            background: #4F46E5;  
            color: white;  
            border-radius: 4px;  
            font-size: 14px;  
        }  
        .save-button:hover {  
            background: #4338CA;  
        }  
        .extract-button {  
            padding: 4px 12px;  
            background: #10B981;  
            color: white;  
            border-radius: 4px;  
            font-size: 14px;  
        }  
        .extract-button:hover {  
            background: #059669;  
        }  
        .font-msz {  
            font-family: 'Ma Shan Zheng', cursive;  
        }  
        .font-xw {  
            font-family: 'ZCOOL XiaoWei', cursive;  
        }  
        .font-kl {  
            font-family: 'ZCOOL KuaiLe', cursive;  
        }  
        .font-qkhy {  
            font-family: 'ZCOOL QingKe HuangYou', cursive;  
        }  
        .font-noto {  
            font-family: 'Noto Sans SC', sans-serif;  
        }  
        .banner-container {  
            width: 100%;  
            margin: 0 auto;  
            padding: 1rem 0;  
            text-align: center;  
            background-color: #ffffff;  
            max-width: 56rem;  
        }  
        .banner-image {  
            width: 100%;  
            height: auto;  
            margin: 0 auto;  
            display: block;  
        }  
        .fullscreen-disabled {  
            opacity: 0.5;  
            pointer-events: none;  
        }  
        .download-progress {  
            position: fixed;  
            top: 50%;  
            left: 50%;  
            transform: translate(-50%, -50%);  
            background: rgba(0, 0, 0, 0.8);  
            color: white;  
            padding: 20px;  
            border-radius: 8px;  
            z-index: 1000;  
            text-align: center;  
            min-width: 200px;  
        }  
        .batch-download-container {  
            position: fixed;  
            top: 0;  
            left: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0, 0, 0, 0.8);  
            z-index: 2000;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
        }  
        .batch-download-box {  
            background: white;  
            padding: 30px;  
            border-radius: 15px;  
            max-width: 90%;  
            width: 400px;  
            text-align: center;  
        }  
        .auto-download-btn {  
            background: #ff6b6b;  
            color: white;  
            border: none;  
            padding: 15px 30px;  
            border-radius: 8px;  
            font-size: 16px;  
            font-weight: bold;  
            cursor: pointer;  
            width: 100%;  
            margin: 10px 0;  
        }  
        .auto-download-btn:hover {  
            background: #ff5252;  
        }  
        .manual-download-btn {  
            background: #4ecdc4;  
            color: white;  
            border: none;  
            padding: 15px 30px;  
            border-radius: 8px;  
            font-size: 16px;  
            font-weight: bold;  
            cursor: pointer;  
            width: 100%;  
            margin: 10px 0;  
        }  
        .manual-download-btn:hover {  
            background: #26a69a;  
        }  
        .close-btn {  
            background: #gray;  
            color: white;  
            border: none;  
            padding: 10px 20px;  
            border-radius: 8px;  
            cursor: pointer;  
            margin-top: 10px;  
        }  
        .progress-bar {  
            width: 100%;  
            height: 20px;  
            background: #f0f0f0;  
            border-radius: 10px;  
            overflow: hidden;  
            margin: 15px 0;  
        }  
        .progress-fill {  
            height: 100%;  
            background: #4caf50;  
            transition: width 0.3s ease;  
        }  
        .hidden-download-area {  
            position: fixed;  
            top: -1000px;  
            left: -1000px;  
            width: 1px;  
            height: 1px;  
            opacity: 0;  
            pointer-events: none;  
        }  
        .file-input-container {  
            position: relative;  
            display: inline-block;  
            width: 100%;  
        }  
        .file-input-buttons {  
            display: flex;  
            gap: 10px;  
            margin-top: 10px;  
        }  
        .file-input-btn {  
            flex: 1;  
            padding: 10px;  
            background: #f8f9fa;  
            border: 1px solid #dee2e6;  
            border-radius: 6px;  
            cursor: pointer;  
            text-align: center;  
            font-size: 14px;  
            transition: all 0.2s;  
        }  
        .file-input-btn:hover {  
            background: #e9ecef;  
            border-color: #adb5bd;  
        }  
        .file-input-btn.active {  
            background: #e3f2fd;  
            border-color: #2196f3;  
            color: #1976d2;  
        }  
    </style>  
</head>  
<body class="bg-gray-50 min-h-screen">  
    <!-- Banner -->  
    <div class="max-w-4xl mx-auto">  
        <div class="banner-container">  
            <img src="https://i.ibb.co/NYByV7m/plus7banner.png"   
                 alt="plus7banner"  
                 class="banner-image">  
        </div>  
    </div>  

    <div class="max-w-4xl mx-auto p-4 space-y-6">  
        <h1 class="text-2xl font-bold text-gray-900 text-center">ÂõæÁâáÊâπÈáèÂä†Ê∞¥Âç∞Â∑•ÂÖ∑</h1>  
        <p class="text-right text-sm text-gray-500 mt-1">Designed by Yufan Chen & Jiaqi Song & AI</p>  
        <div class="bg-white rounded-lg shadow p-6 space-y-6">  
            <div>  
                <label class="block text-sm font-medium text-gray-700 mb-2">ÈÄâÊã©ÂõæÁâá</label>  
                <div class="file-input-container">  
                    <!-- ‰∏ªË¶ÅÊñá‰ª∂ËæìÂÖ•ÔºàÁõ∏ÂÜåÔºâ -->  
                    <input type="file" id="imageInputGallery" multiple accept="image/*" class="block w-full text-sm text-gray-500  
                        file:mr-4 file:py-2 file:px-4  
                        file:rounded-md file:border-0  
                        file:text-sm file:font-semibold  
                        file:bg-indigo-50 file:text-indigo-700  
                        hover:file:bg-indigo-100" style="display: none;">  
                    
                    <!-- Áõ∏Êú∫ËæìÂÖ• -->  
                    <input type="file" id="imageInputCamera" multiple accept="image/*" capture="environment" class="block w-full text-sm text-gray-500  
                        file:mr-4 file:py-2 file:px-4  
                        file:rounded-md file:border-0  
                        file:text-sm file:font-semibold  
                        file:bg-indigo-50 file:text-indigo-700  
                        hover:file:bg-indigo-100" style="display: none;">  
                    
                    <!-- Êñá‰ª∂ËæìÂÖ• -->  
                    <input type="file" id="imageInputFile" multiple accept="image/*" class="block w-full text-sm text-gray-500  
                        file:mr-4 file:py-2 file:px-4  
                        file:rounded-md file:border-0  
                        file:text-sm file:font-semibold  
                        file:bg-indigo-50 file:text-indigo-700  
                        hover:file:bg-indigo-100" style="display: none;">  
                    
                    <!-- ÊòæÁ§∫ÁöÑÊåâÈíÆ -->  
                    <div class="file-input-buttons">  
                        <div class="file-input-btn active" id="btnGallery">  
                            üì± Áõ∏ÂÜå  
                        </div>  
                        <div class="file-input-btn" id="btnCamera">  
                            üì∑ Áõ∏Êú∫  
                        </div>  
                        <div class="file-input-btn" id="btnFile">  
                            üìÅ Êñá‰ª∂  
                        </div>  
                    </div>  
                </div>  
            </div>  

            <div class="grid grid-cols-2 gap-4">  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">Ê∞¥Âç∞ÊñáÂ≠ó</label>  
                    <input type="text" id="watermarkText" value="+7AIÂÆûÈ™åÂÆ§" class="block w-full rounded-md border-gray-300 shadow-sm p-2">  
                </div>  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">Â≠ó‰ΩìÈÄâÊã©</label>  
                    <select id="fontFamily" class="block w-full rounded-md border-gray-300 shadow-sm p-2">  
                        <option value="Noto Sans SC" class="font-noto">ÊÄùÊ∫êÈªë‰Ωì</option>  
                        <option value="Ma Shan Zheng" class="font-msz">È©¨ÂñÑÊîøÊØõÁ¨îÂ≠ó‰Ωì</option>  
                        <option value="ZCOOL XiaoWei" class="font-xw">Á´ôÈÖ∑Â∞èËñáÂ≠ó‰Ωì</option>  
                        <option value="ZCOOL KuaiLe" class="font-kl">Á´ôÈÖ∑Âø´‰πê‰Ωì</option>  
                        <option value="ZCOOL QingKe HuangYou" class="font-qkhy">Á´ôÈÖ∑Â∫ÜÁßëÈªÑÊ≤π‰Ωì</option>  
                    </select>  
                </div>  
            </div>  

            <div class="grid grid-cols-2 gap-4">  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">Ê∞¥Âç∞Ê®°Âºè</label>  
                    <div class="flex items-center space-x-4">  
                        <label class="inline-flex items-center">  
                            <input type="checkbox" id="fullscreenWatermark" class="rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">  
                            <span class="ml-2 text-sm">ÂÖ®Â±èÊ∞¥Âç∞</span>  
                        </label>  
                    </div>  
                </div>  
                <div class="space-y-2" id="positionContainer">  
                    <label class="block text-sm font-medium text-gray-700">‰ΩçÁΩÆÈ¢ÑËÆæ</label>  
                    <select id="positionPreset" class="block w-full rounded-md border-gray-300 shadow-sm p-2">  
                        <option value="center">Â±Ö‰∏≠</option>  
                        <option value="top-left">Â∑¶‰∏äËßí</option>  
                        <option value="top-right">Âè≥‰∏äËßí</option>  
                        <option value="bottom-left">Â∑¶‰∏ãËßí</option>  
                        <option value="bottom-right">Âè≥‰∏ãËßí</option>  
                    </select>  
                </div>  
            </div>  

            <div class="grid grid-cols-2 gap-4">  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">Â≠ó‰ΩìÁ≤óÁªÜ</label>  
                    <div class="flex space-x-4">  
                        <label class="inline-flex items-center">  
                            <input type="radio" name="fontWeight" value="normal" checked>  
                            <span class="ml-2">Â∏∏ËßÑ</span>  
                        </label>  
                        <label class="inline-flex items-center">  
                            <input type="radio" name="fontWeight" value="bold">  
                            <span class="ml-2">Âä†Á≤ó</span>  
                        </label>  
                    </div>  
                </div>  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">  
                        Â≠ó‰ΩìÂ§ßÂ∞èÔºö<span id="fontSizeValue">5</span>%  
                    </label>  
                    <input type="range" id="fontSize" min="1" max="20" value="5" step="0.5" class="w-full">  
                </div>  
            </div>  

            <div class="grid grid-cols-2 gap-4">  
                <div class="space-y-2">  
                    <label class="block text-sm font-medium text-gray-700">  
                        ÂèØËßÅÊ∞¥Âç∞ÈÄèÊòéÂ∫¶Ôºö<span id="opacityValue">50</span>%  
                    </label>  
                    <input type="range" id="opacity" min="10" max="100" value="50" class="w-full">  
                </div>  
                <div class="space-y-2" id="spacingContainer">  
                    <label class="block text-sm font-medium text-gray-700">  
                        Ê∞¥Âç∞Èó¥Ë∑ùÔºö<span id="spacingValue">150</span>px  
                    </label>  
                    <input type="range" id="spacing" min="80" max="300" value="150" class="w-full">  
                </div>  
            </div>  

            <div id="previewArea" class="hidden space-y-4">
